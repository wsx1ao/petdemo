<!DOCTYPE html>

<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>

    <meta charset="UTF-8">

    <title>JPetStore Demo</title>

    <link rel="stylesheet" href="/css/jpetstore.css" type="text/css" media="screen"/>

</head>

<body>

<header th:replace="/common/top"></header>


<div id="BackLink">

    <a href="/catalog/index">Return to Main Menu</a>

</div>


<div id="Catalog">


    <table>

        <tr>

            <th align="center" colspan="2" th:text="'Order' + ${session.order.orderId} +

                 ${#dates.format(session.order.orderDate, 'yyyy/MM/dd hh:mm:ss')}">

            </th>

        </tr>

        <tr>

            <th colspan="2">Payment Details</th>

        </tr>

        <tr>

            <td>Card Type:</td>

            <td th:text="${session.order.cardType}"></td>

        </tr>

        <tr>

            <td>Card Number:</td>

            <td th:text="${session.order.creditCard} + ' * Fake number!'"></td>

        </tr>
        <tr>

            <td>Expiry Date (MM/YYYY):</td>

            <td th:text="${session.order.expiryDate}"></td>

        </tr>

        <tr>

            <th colspan="2">Billing Address</th>

        </tr>

        <tr>

            <td>First name:</td>

            <td th:text="${session.order.billToFirstName}"></td>

        </tr>

        <tr>

            <td>Last name:</td>

            <td th:text="${session.order.billToLastName}"></td>

        </tr>

        <tr>

            <td>Address 1:</td>

            <td th:text="${session.order.billAddress1}"></td>

        </tr>

        <tr>

            <td>Address 2:</td>

            <td th:text="${session.order.billAddress2}"></td>

        </tr>

        <tr>

            <td>City:</td>

            <td th:text="${session.order.billCity}"></td>

        </tr>

        <tr>

            <td>State:</td>

            <td th:text="${session.order.billState}"></td>

        </tr>

        <tr>

            <td>Zip:</td>

            <td th:text="${session.order.billZip}"></td>

        </tr>

        <tr>
            <td>Country:</td>

            <td th:text="${session.order.billCountry}"></td>

        </tr>

        <tr>

            <th colspan="2">Shipping Address</th>

        </tr>

        <tr>

            <td>First name:</td>

            <td th:text="${session.order.shipToFirstName}"></td>

        </tr>

        <tr>

            <td>Last name:</td>

            <td th:text="${session.order.shipToLastName}"></td>

        </tr>

        <tr>

            <td>Address 1:</td>

            <td th:text="${session.order.shipAddress1}"></td>

        </tr>

        <tr>

            <td>Address 2:</td>

            <td th:text="${session.order.shipAddress2}"></td>

        </tr>

        <tr>

            <td>City:</td>

            <td th:text="${session.order.shipCity}"></td>

        </tr>

        <tr>

            <td>State:</td>

            <td th:text="${session.order.shipState}"></td>

        </tr>
        <tr>

            <td>Zip:</td>

            <td th:text="${session.order.shipZip}"></td>

        </tr>

        <tr>

            <td>Country:</td>

            <td th:text="${session.order.shipCountry}"></td>

        </tr>

        <tr>

            <td>Courier:</td>

            <td th:text="${session.order.courier}"></td>

        </tr>

        <tr>

            <td colspan="2" th:text="'Status:' + ${session.order.status}"></td>

        </tr>

        <tr>

            <td colspan="2">

                <table>

                    <tr>

                        <th>Item ID</th>

                        <th>Description</th>

                        <th>Quantity</th>

                        <th>Price</th>

                        <th>Total Cost</th>

                    </tr>


                    <tr th:each="lineItem : ${session.order.lineItems}">

                        <td>

                            <a th:href="@{/catalog/viewItem(itemId=${lineItem.item.itemId})}"

                               th:text="${lineItem.item.itemId}"></a>

                        </td>
                        <td th:switch="${lineItem.item != null}">

                            <div th:case="true" th:text="

                                    ${lineItem.item.attribute1!=null?lineItem.item.attribute1:''}+' '+

                                    ${lineItem.item.attribute2!=null?lineItem.item.attribute2:''}+' '+

                                    ${lineItem.item.attribute3!=null?lineItem.item.attribute3:''}+' '+

                                    ${lineItem.item.attribute4!=null?lineItem.item.attribute4:''}+' '+

                                    ${lineItem.item.attribute5!=null?lineItem.item.attribute5:''}+' '+

                                    ${lineItem.item.product.name}"></div>


                            <div th:case="false">

                                <i>{description unavailable}</i>

                            </div>

                        </td>

                        <td th:text="${lineItem.quantity}"></td>

                        <td th:text="${#numbers.formatDecimal(lineItem.unitPrice, 1, 2)}"></td>

                        <td th:text="${#numbers.formatDecimal(lineItem.total, 1, 2)}"></td>

                    </tr>


                    <tr>

                        <th colspan="5"

                            th:text="'Total: ' + ${#numbers.formatDecimal(session.order.totalPrice, 1, 2)}"></th>

                    </tr>

                </table>

            </td>

        </tr>


    </table>


</div>


<footer th:replace="/common/bottom"></footer>

</body>

</html>